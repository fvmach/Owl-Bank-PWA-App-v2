import{Box}from"@twilio-paste/box";import{Flex}from"@twilio-paste/flex";import{useTabPrimitiveState}from"@twilio-paste/tabs-primitive";import*as React3 from"react";import*as React from"react";var TabsContext=React.createContext({});import React2 from"react";var getElementName=(orientation,fallback,elementName)=>elementName??`${orientation.toUpperCase()}_${fallback}`,useElementsOutOfBounds=()=>{let[elementOutOBoundsLeft,setElementOutOfBoundsLeft]=React2.useState(null),[elementOutOBoundsRight,setElementOutOfBoundsRight]=React2.useState(null);return{elementOutOBoundsLeft,elementOutOBoundsRight,determineElementsOutOfBounds:(scrollContainer,listContainer)=>{if(scrollContainer&&listContainer){let currentScrollContainerRightPosition=scrollContainer?.getBoundingClientRect().right,currentScrollContainerXOffset=scrollContainer?.getBoundingClientRect().x,leftOutOfBounds=null,rightOutOfBounds=null;listContainer.childNodes.forEach(tab=>{let{x,right}=tab.getBoundingClientRect();x<currentScrollContainerXOffset&&right>currentScrollContainerRightPosition||(Math.round(x)<Math.round(currentScrollContainerXOffset-28)&&(leftOutOfBounds=tab),Math.round(right)>Math.round(currentScrollContainerRightPosition+28)&&!rightOutOfBounds&&(rightOutOfBounds=tab)),setElementOutOfBoundsLeft(leftOutOfBounds),setElementOutOfBoundsRight(rightOutOfBounds)})}}}},useShowShadow=()=>{let[showShadow,setShowShadow]=React2.useState(!1),showShadowTimer;return{showShadow,handleShadow:()=>{showShadowTimer&&window.clearTimeout(showShadowTimer),setShowShadow(!0),showShadowTimer=window.setTimeout(()=>{setShowShadow(!1)},500)}}},handleScrollDirection=(direction,elementOutOBoundsLeft,elementOutOBoundsRight,scrollContainer)=>{let elementToScrollTo=direction==="left"?elementOutOBoundsLeft:elementOutOBoundsRight;if(scrollContainer&&elementToScrollTo){let elementRect=elementToScrollTo.getBoundingClientRect(),containerRect=scrollContainer.getBoundingClientRect(),newScrollLeft=scrollContainer.scrollLeft+(elementRect.left-containerRect.left)-containerRect.width/2+elementRect.width/2;scrollContainer.scrollTo({left:newScrollLeft,behavior:"smooth"})}};var Tabs=React3.forwardRef(({children,element,orientation="horizontal",state,variant,...initialState},ref)=>{let{orientation:tabOrientation=orientation,...tab}=state||useTabPrimitiveState({orientation,...initialState}),elementName=getElementName(tabOrientation,"TABS",element),value=React3.useMemo(()=>({...tab,orientation:tabOrientation,variant}),[tab,tabOrientation,variant]),returnValue=React3.createElement(TabsContext.Provider,{value},children);return tabOrientation==="vertical"?React3.createElement(Flex,{element:elementName,ref,wrap:!1,vAlignContent:"stretch"},returnValue):React3.createElement(Box,{element:elementName},returnValue)});Tabs.displayName="Tabs";import{Box as Box3}from"@twilio-paste/box";import{css,styled}from"@twilio-paste/styling-library";import{TabPrimitiveList}from"@twilio-paste/tabs-primitive";import*as React5 from"react";import{Box as Box2}from"@twilio-paste/box";import{ChevronLeftIcon}from"@twilio-paste/icons/esm/ChevronLeftIcon";import{ChevronRightIcon}from"@twilio-paste/icons/esm/ChevronRightIcon";import{useTheme}from"@twilio-paste/theme";import React4 from"react";var Styles={color:"colorTextIcon",_hover:{color:"colorTextPrimaryStrongest",cursor:"pointer"}},InverseStyles={color:"colorTextIconInverse",_hover:{color:"colorTextInverse",cursor:"pointer"}},OverflowButton=({onClick,position,visible,element="TAB_LIST",showShadow})=>{let theme=useTheme(),{variant}=React4.useContext(TabsContext),isInverse=variant?.includes("inverse"),Chevron=position==="left"?ChevronLeftIcon:ChevronRightIcon;return visible?React4.createElement(Box2,{onClick,"aria-hidden":!0,display:"flex",alignItems:"center",justifyContent:"center",width:"sizeBase70",padding:"space20",boxShadow:(()=>{if(showShadow)return position==="left"?isInverse?theme.shadows.shadowLeftInverse:theme.shadows.shadowLeft:isInverse?theme.shadows.shadowRightInverse:theme.shadows.shadowRight})(),element:`${element}_OVERFLOW_BUTTON_${position.toUpperCase()}`,zIndex:"zIndex10",...isInverse?InverseStyles:Styles},React4.createElement(Chevron,{decorative:!0})):null};OverflowButton.displayName="OverflowButton";var StyledTabList=styled.div(()=>css({overflowX:"auto",overflowY:"hidden",overflowScrolling:"touch","@supports (-moz-appearance:none)":{paddingBottom:"0px",scrollbarWidth:"none"},"::-webkit-scrollbar":{height:0},"::-webkit-scrollbar-track":{background:"transparent"}})),HorizontalTabList=({children,variant,element})=>{let ref=React5.useRef(null),{selectedId}=React5.useContext(TabsContext),scrollableRef=React5.useRef(null),isInverse=variant==="inverse"||variant==="inverse_fitted",{determineElementsOutOfBounds,elementOutOBoundsLeft,elementOutOBoundsRight}=useElementsOutOfBounds(),{handleShadow,showShadow}=useShowShadow(),handleScrollEvent=()=>{handleShadow(),determineElementsOutOfBounds(scrollableRef.current,ref.current)};return React5.useEffect(()=>{ref.current&&scrollableRef.current&&(scrollableRef.current?.addEventListener("scroll",handleScrollEvent),window.addEventListener("resize",handleScrollEvent),determineElementsOutOfBounds(scrollableRef.current,ref.current))},[ref.current,scrollableRef.current]),React5.useEffect(()=>{if(scrollableRef.current&&selectedId){let selectedTabEl=document.getElementById(selectedId),scrollableWidth=scrollableRef.current.getBoundingClientRect().width;if(selectedTabEl&&(selectedTabEl?.getBoundingClientRect().x<0||selectedTabEl?.getBoundingClientRect().right>scrollableWidth)){let scrollLeft=selectedTabEl.getBoundingClientRect().x-scrollableRef.current.getBoundingClientRect().x;scrollableRef.current.scrollLeft+=scrollLeft}}},[scrollableRef.current,selectedId]),React5.useEffect(()=>()=>{scrollableRef.current&&(scrollableRef.current.removeEventListener("scroll",handleScrollEvent),window.removeEventListener("resize",handleScrollEvent))},[]),React5.createElement(Box3,{display:"flex",overflow:"hidden"},React5.createElement(OverflowButton,{position:"left",onClick:()=>handleScrollDirection("left",elementOutOBoundsLeft,elementOutOBoundsRight,scrollableRef.current),visible:Boolean(elementOutOBoundsLeft),element,showShadow}),React5.createElement(Box3,{as:StyledTabList,ref:scrollableRef,flexGrow:1,element:`${element}_SCROLL_WRAPPER`},React5.createElement(Box3,{ref,position:"relative",whiteSpace:"nowrap",element,display:"flex",columnGap:"space20",paddingTop:"1px",boxShadow:isInverse?"shadowBorderBottomInverseWeakerInset":"shadowBorderBottomWeakInset",width:elementOutOBoundsRight||elementOutOBoundsLeft?"max-content":"auto"},children,React5.createElement(Box3,{position:"absolute",width:"100%",height:"1px",backgroundColor:isInverse?"colorBackgroundInverse":"colorBackgroundBody",bottom:"-1px"}))),React5.createElement(OverflowButton,{position:"right",onClick:()=>handleScrollDirection("right",elementOutOBoundsLeft,elementOutOBoundsRight,scrollableRef.current),visible:Boolean(elementOutOBoundsRight),element,showShadow}))};HorizontalTabList.displayName="HorizontalTabList";var VerticalTabList=({children,element,variant})=>React5.createElement(Box3,{element,marginRight:"space110",minWidth:"size20",maxWidth:"size40",borderRightStyle:"solid",borderRightWidth:"borderWidth10",borderRightColor:variant==="inverse"||variant==="inverse_fitted"?"colorBorderInverseWeaker":"colorBorderWeak"},children);VerticalTabList.displayName="VerticalTabList";var TabList=React5.forwardRef(({children,element,variant,...props},ref)=>{let tab=React5.useContext(TabsContext),{orientation}=tab,elementName=getElementName(orientation,"TAB_LIST",element),TabListWrapper=orientation==="vertical"?VerticalTabList:HorizontalTabList;return React5.createElement(TabPrimitiveList,{...tab,as:Box3,...props,element:elementName,ref},React5.createElement(TabListWrapper,{variant:variant||tab.variant,element:`${elementName}_CHILD`},children))});TabList.displayName="TabList";import{Box as Box4,safelySpreadBoxProps}from"@twilio-paste/box";import{TabPrimitive}from"@twilio-paste/tabs-primitive";import*as React6 from"react";var getTabBoxStyles=(orientation,variant)=>{let isInverse=variant==="inverse"||variant==="inverse_fitted"||variant==="inverse_full_width",isFitted=variant==="fitted"||variant==="inverse_fitted"||variant==="full_width"||variant==="inverse_full_width";switch(orientation){case"vertical":return{color:isInverse?"colorTextInverseWeak":"colorTextWeak",display:"block",marginBottom:"space30",paddingBottom:"space30",paddingLeft:"space50",paddingRight:"space50",paddingTop:"space30",_last:{marginBottom:"space0"},_selected:{color:isInverse?"colorTextInverse":"colorTextLink"},_hover:{color:isInverse?"colorTextInverse":"colorTextLinkStronger",boxShadow:isInverse?"shadowBorderRightInverseStrong":"none"},_disabled:{borderLeftColor:"transparent",color:isInverse?"colorTextInverseWeakest":"colorTextWeaker",boxShadow:"none"},_disabled_focus:{boxShadow:"none"},_focus:{boxShadow:isInverse?"shadowFocusInverseInset":"shadowFocusInset",outline:"none",borderTopLeftRadius:"borderRadius30",borderBottomLeftRadius:"borderRadius30"},_selected_after:{content:'" "',position:"absolute",height:"80%",width:"4px",backgroundColor:isInverse?"colorBackgroundInverseStrongest":"colorBackgroundPrimary",borderTopLeftRadius:"borderRadius30",borderBottomLeftRadius:"borderRadius30",right:-1,top:"10%"},_selected_hover:{boxShadow:"none"},_selected_hover_after:{content:'" "',position:"absolute",height:"80%",width:"4px",backgroundColor:isInverse?"colorBackgroundPrimary":"colorBackgroundPrimaryStrongest",borderTopLeftRadius:"borderRadius30",borderBottomLeftRadius:"borderRadius30",right:-1,top:"10%"},_focus_selected_after:{display:"none"},_focus_selected_hover_after:{display:"none"},_disabled_focus_after:{content:'" "',position:"absolute",height:"80%",width:"4px",backgroundColor:isInverse?"colorBackgroundInverseStronger":"colorBackgroundStrong",borderTopLeftRadius:"borderRadius30",borderBottomLeftRadius:"borderRadius30",right:-1,top:"10%"}};case"horizontal":default:return{color:isInverse?"colorTextInverseWeak":"colorTextWeak",borderColor:"transparent",borderStyle:"solid",borderWidth:"borderWidth10",borderBottomWidth:"borderWidth20",borderTopLeftRadius:"borderRadius30",borderTopRightRadius:"borderRadius30",display:"inline-block",flexBasis:isFitted?"50%":void 0,flexGrow:isFitted?1:void 0,flexShrink:isFitted?1:void 0,minWidth:"sizeSquare130",paddingY:"space30",paddingX:"space50",textAlign:"center",bottom:"-1px",_selected:{borderColor:isInverse?"colorBorderInverse":"colorBorderWeak",borderBottomColor:isInverse?"colorBorderInverseWeakest":"colorBorderWeakest",color:isInverse?"colorTextInverse":"colorTextPrimary",boxShadow:isInverse?"shadowBorderTopInverseStrongest":"shadowBorderTopPrimary",backgroundColor:isInverse?"colorBackgroundInverse":"colorBackgroundBody"},_disabled:{borderBottomColor:"transparent",color:isInverse?"colorTextInverseWeakest":"colorTextWeaker"},_hover:{color:isInverse?"colorTextInverse":"colorTextPrimaryStrongest",borderBottomColor:isInverse?"colorBorderInverseStrong":"transparent"},_selected_hover:{color:isInverse?"colorTextInverse":"colorTextPrimaryStronger",borderBottomColor:"transparent",boxShadow:isInverse?"shadowBorderTopPrimary":"shadowBorderTopPrimaryStrongest"},_focus:{outline:"none",borderColor:"colorBorderPrimary",boxShadow:"shadowFocusInset",borderBottomColor:"colorBorderPrimary"},_selected_focus:{borderStyle:"solid",boxShadow:"shadowFocusInset",color:isInverse?"colorTextInverse":"colorTextPrimary",borderColor:"colorBorderPrimary"},_disabled_focus:{borderColor:isInverse?"colorBorderInverseWeaker":"colorBorderWeak",boxShadow:"none",borderBottom:"none",overflow:"clip"}}}},Tab=React6.forwardRef(({children,element,...tabProps},ref)=>{let tab=React6.useContext(TabsContext),boxStyles=React6.useMemo(()=>getTabBoxStyles(tab.orientation,tab.variant),[tab.orientation,tab.variant]),{orientation,variant}=tab,elementName=getElementName(orientation,"TAB",element);return React6.createElement(TabPrimitive,{...tab,...tabProps,orientation:orientation==="vertical"?void 0:"horizontal",ref},props=>React6.createElement(Box4,{...safelySpreadBoxProps(props),...boxStyles,as:"span",cursor:props["aria-disabled"]?"not-allowed":"pointer",element:elementName,fontSize:"fontSize30",lineHeight:"lineHeight30",fontWeight:"fontWeightMedium",overflow:orientation!=="vertical"?"hidden":void 0,position:"relative",textOverflow:orientation!=="vertical"?"ellipsis":void 0,transition:"border-color 100ms ease, color 100ms ease",whiteSpace:orientation!=="vertical"?"nowrap":void 0,minWidth:variant==="fitted"||variant==="inverse_fitted"?"auto":"fit-content"},children))});Tab.displayName="Tab";import{Box as Box5,safelySpreadBoxProps as safelySpreadBoxProps2}from"@twilio-paste/box";import*as React7 from"react";var TabPanels=React7.forwardRef(({children,element,...props},ref)=>{let{orientation}=React7.useContext(TabsContext),elementName=getElementName(orientation,"TAB_PANELS",element);return React7.createElement(Box5,{...safelySpreadBoxProps2(props),element:elementName,width:"100%",ref},children)});TabPanels.displayName="TabPanels";import{Box as Box6}from"@twilio-paste/box";import{TabPrimitivePanel}from"@twilio-paste/tabs-primitive";import*as React8 from"react";var TabPanel=React8.forwardRef(({children,element,paddingTop="space60",...props},ref)=>{let tab=React8.useContext(TabsContext),elementName=getElementName(tab.orientation,"TAB_PANEL",element);return React8.createElement(TabPrimitivePanel,{...tab,paddingTop,borderRadius:"borderRadius20",_focusVisible:{boxShadow:"shadowFocusInset",outline:"none"},...props,element:elementName,as:Box6,ref},children)});TabPanel.displayName="TabPanel";export{Tab,TabList,TabPanel,TabPanels,Tabs,TabsContext,useTabPrimitiveState as useTabState};
