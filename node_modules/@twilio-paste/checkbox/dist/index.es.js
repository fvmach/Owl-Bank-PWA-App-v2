import{BaseRadioCheckboxControl,BaseRadioCheckboxHelpText,BaseRadioCheckboxLabel,BaseRadioCheckboxLabelText}from"@twilio-paste/base-radio-checkbox";import{Box,safelySpreadBoxProps}from"@twilio-paste/box";import{CheckboxCheckIcon}from"@twilio-paste/icons/esm/CheckboxCheckIcon";import{MinusIcon}from"@twilio-paste/icons/esm/MinusIcon";import{RequiredDot}from"@twilio-paste/label";import{MediaBody,MediaFigure,MediaObject}from"@twilio-paste/media-object";import{useUID}from"@twilio-paste/uid-library";import*as React2 from"react";import*as React from"react";var CheckboxContext=React.createContext({disabled:!1,name:void 0,hasError:void 0,onChange:()=>{}});var selectAllStyleProps={paddingTop:"space20",paddingRight:"space30",paddingBottom:"space20",paddingLeft:"space30",borderRadius:"borderRadius10",backgroundColor:"colorBackground"},selectAllActiveStyleProps={...selectAllStyleProps,backgroundColor:"colorBackground"},selectAllChildStyleProps={paddingLeft:"space30",paddingRight:"space30"},HiddenCheckbox=React2.forwardRef((props,ref)=>React2.createElement(Box,{...props,ref,as:"input",type:"checkbox",size:"size0",border:"none",overflow:"hidden",padding:"space0",margin:"space0",whiteSpace:"nowrap",textTransform:"none",position:"absolute",clip:"rect(0 0 0 0)"}));HiddenCheckbox.displayName="HiddenCheckbox";var CheckboxIcon=({checked,element,indeterminate})=>indeterminate?React2.createElement(MinusIcon,{element,decorative:!0,color:"inherit",size:"sizeIcon10"}):React2.createElement(CheckboxCheckIcon,{element,display:checked?"block":"none",decorative:!0,color:"inherit",size:"sizeIcon10"});CheckboxIcon.displayName="CheckboxIcon";var Checkbox=React2.forwardRef(({checked,defaultChecked,element="CHECKBOX",children,helpText,id,indeterminate,isSelectAll,isSelectAllChild,required,onChange,...props},ref)=>{if(checked!=null&&defaultChecked!=null)throw new Error('[Paste Checkbox] Do not provide both "defaultChecked" and "checked" to Checkbox at the same time. Please consider if you want this component to be controlled or uncontrolled.');let[checkedState,setCheckedState]=React2.useState(defaultChecked),checkboxGroupContext=React2.useContext(CheckboxContext),helpTextId=useUID(),checkboxId=id||useUID(),isControlled=React2.useMemo(()=>checked!==void 0,[]),mergedChecked=isControlled?checked:checkedState,handleChange=React2.useCallback(event=>{isControlled?onChange?onChange(event):checkboxGroupContext.onChange(event):setCheckedState(event.target.checked)},[onChange,checkboxGroupContext.onChange]),disabled=props.disabled!=null?props.disabled:checkboxGroupContext.disabled,name=props.name!=null?props.name:checkboxGroupContext.name,hasError=props.hasError!=null?props.hasError:checkboxGroupContext.hasError,selectAllStyles={};return isSelectAll&&(selectAllStyles=!disabled&&(mergedChecked||indeterminate)?selectAllActiveStyleProps:selectAllStyleProps),isSelectAllChild&&(selectAllStyles=selectAllChildStyleProps),React2.createElement(Box,{element,display:"inline-flex",position:"relative",flexDirection:"column",...selectAllStyles},React2.createElement(HiddenCheckbox,{...safelySpreadBoxProps(props),checked,defaultChecked,disabled,name,onChange:handleChange,"aria-describedby":helpTextId,"aria-checked":indeterminate?"mixed":checked,"aria-invalid":hasError,id:checkboxId,required,ref}),React2.createElement(BaseRadioCheckboxLabel,{disabled,htmlFor:checkboxId},React2.createElement(BaseRadioCheckboxControl,{alignItems:"center",borderRadius:"borderRadius20",element:`${element}_CONTROL`,disabled,position:"relative",type:"checkbox"},React2.createElement(CheckboxIcon,{element:`${element}_ICON`,checked:mergedChecked,indeterminate})),React2.createElement(BaseRadioCheckboxLabelText,{element:`${element}_LABEL_TEXT`,fontWeight:isSelectAll?null:"fontWeightMedium"},React2.createElement(MediaObject,{verticalAlign:"top"},required&&React2.createElement(MediaFigure,{spacing:"space20"},React2.createElement(RequiredDot,null)),React2.createElement(MediaBody,null,children)))),helpText&&React2.createElement(BaseRadioCheckboxHelpText,{element:`${element}_HELP_TEXT_WRAPPER`,helpTextId},helpText))});Checkbox.displayName="Checkbox";import{InlineControlGroup}from"@twilio-paste/inline-control-group";import*as React3 from"react";var CheckboxGroup=React3.forwardRef(({children,element="CHECKBOX_GROUP",disabled=!1,errorText,isSelectAll=!1,name,onChange,orientation="vertical",i18nRequiredLabel="(required)",...props},ref)=>{let onChangeHandler=React3.useCallback(event=>{onChange?.(event.target.checked)},[onChange]),contextValue=React3.useMemo(()=>({disabled,name,onChange:onChangeHandler,hasError:errorText?!0:void 0}),[disabled,name,onChangeHandler]);return React3.createElement(CheckboxContext.Provider,{value:contextValue},React3.createElement(InlineControlGroup,{...props,element,disabled,errorText,name,orientation,ref,i18nRequiredLabel},React3.Children.map(children,(child,index)=>React3.isValidElement(child)?React3.cloneElement(child,{isSelectAll:isSelectAll&&index===0,isSelectAllChild:isSelectAll&&orientation==="vertical"&&index!==0}):child)))});CheckboxGroup.displayName="CheckboxGroup";import{Box as Box2}from"@twilio-paste/box";import{HelpText}from"@twilio-paste/help-text";import*as React4 from"react";var CheckboxDisclaimer=React4.forwardRef(({children,element="CHECKBOX_DISCLAIMER",errorText,...props},ref)=>React4.createElement(React4.Fragment,null,React4.createElement(Box2,{element,backgroundColor:"colorBackground",borderRadius:"borderRadius20",padding:"space50"},React4.createElement(Checkbox,{...props,hasError:errorText!=null,ref},children)),errorText&&React4.createElement(Box2,{marginTop:"space30",element:`${element}_ERROR_TEXT_WRAPPER`,marginLeft:"space50"},React4.createElement(HelpText,{variant:"error"},errorText))));CheckboxDisclaimer.displayName="CheckboxDisclaimer";export{Checkbox,CheckboxDisclaimer,CheckboxGroup,CheckboxIcon,HiddenCheckbox};
