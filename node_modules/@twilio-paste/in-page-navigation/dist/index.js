"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var src_exports={};__export(src_exports,{InPageNavigation:()=>InPageNavigation,InPageNavigationItem:()=>InPageNavigationItem});module.exports=__toCommonJS(src_exports);var import_box2=require("@twilio-paste/box"),import_styling_library=require("@twilio-paste/styling-library"),React4=__toESM(require("react"));var React=__toESM(require("react")),InPageNavigationContext=React.createContext({variant:"default",orientation:"horizontal"});var import_box=require("@twilio-paste/box"),import_ChevronLeftIcon=require("@twilio-paste/icons/cjs/ChevronLeftIcon"),import_ChevronRightIcon=require("@twilio-paste/icons/cjs/ChevronRightIcon"),import_theme=require("@twilio-paste/theme"),import_react=__toESM(require("react"));var Styles={color:"colorTextIcon",_hover:{color:"colorTextPrimaryStrongest",cursor:"pointer"}},InverseStyles={color:"colorTextIconInverse",_hover:{color:"colorTextInverse",cursor:"pointer"}},OverflowButton=({onClick,position,visible,element="TAB_LIST",showShadow})=>{let theme=(0,import_theme.useTheme)(),{variant}=import_react.default.useContext(InPageNavigationContext),isInverse=variant==="inverse"||variant==="inverse_fullWidth",Chevron=position==="left"?import_ChevronLeftIcon.ChevronLeftIcon:import_ChevronRightIcon.ChevronRightIcon;return visible?import_react.default.createElement(import_box.Box,{onClick,"aria-hidden":!0,display:"flex",alignItems:"center",justifyContent:"center",width:"sizeBase70",padding:"space20",boxShadow:(()=>{if(showShadow)return position==="left"?isInverse?theme.shadows.shadowLeftInverse:theme.shadows.shadowLeft:isInverse?theme.shadows.shadowRightInverse:theme.shadows.shadowRight})(),element:`${element}_OVERFLOW_BUTTON_${position.toUpperCase()}`,zIndex:"zIndex10",...isInverse?InverseStyles:Styles},import_react.default.createElement(Chevron,{decorative:!0})):null};OverflowButton.displayName="OverflowButton";var import_react2=__toESM(require("react")),useElementsOutOfBounds=()=>{let[elementOutOBoundsLeft,setElementOutOfBoundsLeft]=import_react2.default.useState(null),[elementOutOBoundsRight,setElementOutOfBoundsRight]=import_react2.default.useState(null);return{elementOutOBoundsLeft,elementOutOBoundsRight,determineElementsOutOfBounds:(scrollContainer,listContainer)=>{if(scrollContainer&&listContainer){let currentScrollContainerRightPosition=scrollContainer?.getBoundingClientRect().right,currentScrollContainerXOffset=scrollContainer?.getBoundingClientRect().x,leftOutOfBounds=null,rightOutOfBounds=null;listContainer.childNodes.forEach(tab=>{let{x,right}=tab.getBoundingClientRect();x<currentScrollContainerXOffset&&right>currentScrollContainerRightPosition||(Math.round(x)<Math.round(currentScrollContainerXOffset-28)&&(leftOutOfBounds=tab),Math.round(right)>Math.round(currentScrollContainerRightPosition+28)&&!rightOutOfBounds&&(rightOutOfBounds=tab)),setElementOutOfBoundsLeft(leftOutOfBounds),setElementOutOfBoundsRight(rightOutOfBounds)})}}}},useShowShadow=()=>{let[showShadow,setShowShadow]=import_react2.default.useState(!1),showShadowTimer;return{showShadow,handleShadow:()=>{showShadowTimer&&window.clearTimeout(showShadowTimer),setShowShadow(!0),showShadowTimer=window.setTimeout(()=>{setShowShadow(!1)},500)}}},handleScrollDirection=(direction,elementOutOBoundsLeft,elementOutOBoundsRight,scrollContainer)=>{let elementToScrollTo=direction==="left"?elementOutOBoundsLeft:elementOutOBoundsRight;if(scrollContainer&&elementToScrollTo){let elementRect=elementToScrollTo.getBoundingClientRect(),containerRect=scrollContainer.getBoundingClientRect(),newScrollLeft=scrollContainer.scrollLeft+(elementRect.left-containerRect.left)-containerRect.width/2+elementRect.width/2;scrollContainer.scrollTo({left:newScrollLeft,behavior:"smooth"})}};var StyledScrollWrapper=import_styling_library.styled.div(()=>(0,import_styling_library.css)({overflowX:"auto",overflowY:"hidden",overflowScrolling:"touch","@supports (-moz-appearance:none)":{paddingBottom:"0px",scrollbarWidth:"none"},"::-webkit-scrollbar":{height:0},"::-webkit-scrollbar-track":{background:"transparent"}})),InPageNavigation=React4.forwardRef(({element="IN_PAGE_NAVIGATION",variant="default",orientation="horizontal",marginBottom,hideBottomBorder=!1,children,...props},ref)=>{let isFullWidth=variant==="fullWidth"||variant==="inverse_fullWidth",isInverse=variant==="inverse"||variant==="inverse_fullWidth",listRef=React4.useRef(null),scrollableRef=React4.useRef(null),{determineElementsOutOfBounds,elementOutOBoundsLeft,elementOutOBoundsRight}=useElementsOutOfBounds(),{handleShadow,showShadow}=useShowShadow(),handleScrollEvent=()=>{handleShadow(),determineElementsOutOfBounds(scrollableRef.current,listRef.current)};return React4.useEffect(()=>{if(listRef.current&&scrollableRef.current){let currentSelectedTab=listRef.current.querySelector('[aria-current="page"]'),scrollableWidth=scrollableRef.current.getBoundingClientRect().width;if(currentSelectedTab&&(currentSelectedTab?.getBoundingClientRect().x<0||currentSelectedTab?.getBoundingClientRect().right>scrollableWidth)){let scrollLeft=currentSelectedTab.getBoundingClientRect().x-scrollableRef.current.getBoundingClientRect().x;scrollableRef.current.scrollLeft+=scrollLeft}scrollableRef.current?.addEventListener("scroll",handleScrollEvent),window.addEventListener("resize",handleScrollEvent),determineElementsOutOfBounds(scrollableRef.current,listRef.current)}},[listRef.current,scrollableRef.current]),React4.useEffect(()=>()=>{scrollableRef.current&&(scrollableRef.current.removeEventListener("scroll",handleScrollEvent),window.removeEventListener("resize",handleScrollEvent))},[]),orientation==="vertical"?React4.createElement(InPageNavigationContext.Provider,{value:{variant,orientation}},React4.createElement(import_box2.Box,{...(0,import_box2.safelySpreadBoxProps)(props),as:"nav",ref,element},React4.createElement(import_box2.Box,{as:"ul",listStyleType:"none",element:`${element}_ITEMS`,display:"flex",flexDirection:"column",margin:"space0",padding:"space0",width:"100%",rowGap:"space20"},children))):isFullWidth?React4.createElement(InPageNavigationContext.Provider,{value:{variant,orientation}},React4.createElement(import_box2.Box,{...(0,import_box2.safelySpreadBoxProps)(props),as:"nav",ref,element},React4.createElement(import_box2.Box,{as:"ul",listStyleType:"none",element:`${element}_ITEMS`,display:"flex",justifyContent:"space-evenly",columnGap:"space0",padding:"space0",margin:"space0",marginBottom:marginBottom||"space60",borderBottomWidth:hideBottomBorder?"borderWidth0":"borderWidth10",borderBottomStyle:hideBottomBorder?"none":"solid",borderBottomColor:isInverse?"colorBorderInverseWeaker":"colorBorderWeaker"},children))):React4.createElement(InPageNavigationContext.Provider,{value:{variant,orientation}},React4.createElement(import_box2.Box,{...(0,import_box2.safelySpreadBoxProps)(props),as:"nav",marginBottom:marginBottom||"space60",display:"flex",ref,element,overflow:"hidden"},React4.createElement(OverflowButton,{position:"left",onClick:()=>handleScrollDirection("left",elementOutOBoundsLeft,elementOutOBoundsRight,scrollableRef.current),visible:Boolean(elementOutOBoundsLeft),element,showShadow}),React4.createElement(import_box2.Box,{as:StyledScrollWrapper,display:"flex",flexWrap:"nowrap",element:`${element}_SCROLL_WRAPPER`,overflowX:"auto",overflowY:"hidden",flexGrow:1,ref:scrollableRef},React4.createElement(import_box2.Box,{as:"ul",ref:listRef,listStyleType:"none",element:`${element}_ITEMS`,display:"flex",flexGrow:1,justifyContent:"flex-start",padding:"space0",margin:"space0",columnGap:"space50",borderBottomWidth:hideBottomBorder?"borderWidth0":"borderWidth10",borderBottomStyle:hideBottomBorder?"none":"solid",borderBottomColor:isInverse?"colorBorderInverseWeaker":"colorBorderWeaker"},children)),React4.createElement(OverflowButton,{position:"right",onClick:()=>handleScrollDirection("right",elementOutOBoundsLeft,elementOutOBoundsRight,scrollableRef.current),visible:Boolean(elementOutOBoundsRight),element,showShadow})))});InPageNavigation.displayName="InPageNavigation";var import_anchor=require("@twilio-paste/anchor"),import_box3=require("@twilio-paste/box"),React5=__toESM(require("react"));var BASE_STYLES={color:"colorTextWeak",minWidth:"sizeSquare130",textAlign:"center",fontSize:"fontSize30",fontWeight:"fontWeightMedium",overflow:"hidden",position:"relative",textOverflow:"ellipsis",transition:"border-color 100ms ease, color 100ms ease",whiteSpace:"nowrap",textDecoration:"none",_hover:{borderBottomColor:"colorBorderPrimaryStronger",borderLeftColor:"colorBorderPrimaryStronger",color:"colorTextLinkStronger"},_focus:{boxShadow:"shadowFocusInset",outline:"none",borderRadius:"borderRadius20"}},HORIZONTAL_BASE_STYLES={...BASE_STYLES,width:"100%",display:"block",borderBottomColor:"transparent",borderBottomStyle:"solid",borderBottomWidth:"borderWidth10",paddingBottom:"space40",paddingLeft:"space30",paddingRight:"space30",paddingTop:"space40",borderTopLeftRadius:"borderRadius30",borderTopRightRadius:"borderRadius30",_focus:{borderTopLeftRadius:"borderRadius30",borderTopRightRadius:"borderRadius30",boxShadow:"shadowFocusInset",outline:"none"}},VERTICAL_BASE_STYLES={...BASE_STYLES,width:"auto",display:"block",borderLeftColor:"transparent",borderLeftStyle:"solid",borderLeftWidth:"borderWidth10",paddingBottom:"space30",paddingTop:"space30",paddingLeft:"space50",paddingRight:"space50",borderBottomRightRadius:"borderRadius30",borderTopRightRadius:"borderRadius30",whiteSpace:"break-spaces",_focus:{boxShadow:"shadowFocusInset",outline:"none",borderTopRightRadius:"borderRadius30",borderBottomRightRadius:"borderRadius30"}},CURRENT_PAGE_STYLES={borderBottomColor:"colorBorderPrimary",borderLeftColor:"colorBorderPrimary",color:"colorTextLink",_focus:{borderBottom:"none",boxShadow:"shadowFocusInset",outline:"none"}},INVERSE_STYLES={color:"colorTextInverseWeaker",_focus:{boxShadow:"shadowFocusInverseInset",outline:"none"},_hover:{borderBottomColor:"colorBorderInverse",borderLeftColor:"colorBorderInverse",color:"colorTextInverseWeaker"}},INVERSE_CURRENT_PAGE_STYLES={borderBottomColor:"colorBorderInverseStrong",borderLeftColor:"colorBorderInverseStrong",color:"colorTextInverse",_focus:{borderBottom:"none",boxShadow:"shadowFocusInverseInset",outline:"none"}},InPageNavigationItem=React5.forwardRef(({element="IN_PAGE_NAVIGATION_ITEM",currentPage=!1,href,children,title,...props},ref)=>{let{variant,orientation}=React5.useContext(InPageNavigationContext),isFullWidth=variant==="fullWidth"||variant==="inverse_fullWidth",isInverse=variant==="inverse"||variant==="inverse_fullWidth",currentPageStyles={};return currentPage&&(isInverse?currentPageStyles=INVERSE_CURRENT_PAGE_STYLES:currentPageStyles=CURRENT_PAGE_STYLES),orientation==="vertical"?React5.createElement(import_box3.Box,{as:"li",ref,element,minWidth:"size0",marginBottom:"space20"},React5.createElement(import_box3.Box,{...(0,import_anchor.secureExternalLink)(href),...(0,import_box3.safelySpreadBoxProps)(props),...VERTICAL_BASE_STYLES,...isInverse?INVERSE_STYLES:{},...currentPageStyles,as:"a",ref,element:`${element}_ANCHOR`,"aria-current":currentPage?"page":void 0,href,width:"100%",textAlign:"start",title},children)):React5.createElement(import_box3.Box,{as:"li",ref,element,display:"flex",flexBasis:isFullWidth?"100%":void 0,flexGrow:isFullWidth?1:void 0,flexShrink:isFullWidth?1:void 0,minWidth:"size0"},React5.createElement(import_box3.Box,{...(0,import_anchor.secureExternalLink)(href),...(0,import_box3.safelySpreadBoxProps)(props),...HORIZONTAL_BASE_STYLES,...isInverse?INVERSE_STYLES:{},...currentPageStyles,as:"a",ref,element:`${element}_ANCHOR`,"aria-current":currentPage?"page":void 0,href,title},children))});InPageNavigationItem.displayName="InPageNavigationItem";
