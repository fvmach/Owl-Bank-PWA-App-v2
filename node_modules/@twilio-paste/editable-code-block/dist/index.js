"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var src_exports={};__export(src_exports,{EditableCodeBlock:()=>EditableCodeBlock,EditableCodeBlockHeader:()=>EditableCodeBlockHeader,EditableCodeBlockWrapper:()=>EditableCodeBlockWrapper});module.exports=__toCommonJS(src_exports);var import_box=require("@twilio-paste/box"),import_styling_library=require("@twilio-paste/styling-library"),React=__toESM(require("react")),StyledEditableCodeBlockWrapper=(0,import_styling_library.styled)(import_box.Box)((0,import_styling_library.css)({backgroundColor:"rgb(1, 22, 39)",borderRadius:"borderRadius20",overflow:"hidden"})),EditableCodeBlockWrapper=React.forwardRef(({children,element="EDITABLE_CODE_BLOCK_WRAPPER",...props},ref)=>React.createElement(StyledEditableCodeBlockWrapper,{...(0,import_box.safelySpreadBoxProps)(props),element,ref},children));EditableCodeBlockWrapper.displayName="EditableCodeBlockWrapper";var import_box2=require("@twilio-paste/box"),React2=__toESM(require("react")),EditableCodeBlockHeader=React2.forwardRef(({children,element="EDITABLE_CODE_BLOCK_HEADER",as="h3",...props},ref)=>React2.createElement(import_box2.Box,{...(0,import_box2.safelySpreadBoxProps)(props),ref,element,as,backgroundColor:"colorBackgroundInverseStrong",color:"colorTextInverse",paddingY:"space50",paddingX:"space70",margin:"space0",borderTopLeftRadius:"borderRadius20",borderTopRightRadius:"borderRadius20",fontWeight:"fontWeightSemibold",fontSize:"fontSize30",borderBottomWidth:"borderWidth30",borderBottomColor:"colorBorderInverseWeakest",borderBottomStyle:"solid"},children));EditableCodeBlockHeader.displayName="EditableCodeBlockHeader";var import_box3=require("@twilio-paste/box"),import_code_editor_library=require("@twilio-paste/code-editor-library"),import_screen_reader_only=require("@twilio-paste/screen-reader-only"),import_spinner=require("@twilio-paste/spinner"),import_styling_library2=require("@twilio-paste/styling-library"),import_theme=require("@twilio-paste/theme"),React3=__toESM(require("react")),EditableCodeblockLoadingMessage=({i18nLoadingLabel})=>React3.createElement(React3.Fragment,null,React3.createElement(import_spinner.Spinner,{color:"colorTextPrimaryWeak",decorative:!0}),React3.createElement(import_screen_reader_only.ScreenReaderOnly,null,i18nLoadingLabel));EditableCodeblockLoadingMessage.displayName="EditableCodeblockLoadingMessage";var InlineErrorStyles={".paste-editable-code-editor-margin-error":{":before":{content:'""',display:"inline-block",position:"relative",left:"2px",width:"16px",height:"16px",background:"url(https://assets.twilio.com/public_assets/paste-assets/1.0.0/icons/editable-codeblock-error.svg) no-repeat center center"}},".paste-editable-code-editor-row-error":{backgroundColor:"rgba(255, 0, 0, 0.3)"}},EditableCodeBlock=({onMount,element="EDITABLE_CODE_BLOCK",lineNumbers="on",readOnly=!1,folding=!0,indentationGuide=!0,showMinimap=!1,scrollBeyondLastLine=!1,inlineErrorRange,inlineErrorHoverMessage,inlineErrorIsWholeLine=!0,i18nLoadingLabel="Loading code...",...props})=>{let theme=(0,import_theme.useTheme)(),controlledOptions=React3.useMemo(()=>({lineHeight:20,fontFamily:theme.fonts.fontFamilyCode,lineNumbers,folding,readOnly,scrollBeyondLastLine,glyphMargin:inlineErrorRange!=null,minimap:{enabled:showMinimap},guides:{indentation:indentationGuide}}),[readOnly,showMinimap,folding,inlineErrorRange,scrollBeyondLastLine,indentationGuide,lineNumbers,theme]),globalStyles=React3.useMemo(()=>({".monaco-hover-content":{fontFamily:theme.fonts.fontFamilyText},...inlineErrorRange?InlineErrorStyles:{}}),[theme,inlineErrorRange]),handleEditorDidMount=React3.useCallback((editor,monaco)=>{monaco.editor.defineTheme("paste",import_code_editor_library.CodeEditorPasteTheme),monaco.editor.setTheme("paste"),inlineErrorRange&&editor.createDecorationsCollection([{range:new monaco.Range(inlineErrorRange.startLineNumber,inlineErrorRange.startColumn,inlineErrorRange.endLineNumber,inlineErrorRange.endColumn),options:{isWholeLine:inlineErrorIsWholeLine,className:".paste-editable-code-editor-row-error",hoverMessage:inlineErrorHoverMessage,glyphMarginClassName:".paste-editable-code-editor-margin-error",glyphMarginHoverMessage:inlineErrorHoverMessage,overviewRuler:{color:"#b82430",darkColor:"#b82430",position:monaco.editor.OverviewRulerLane.Right}}}]),onMount?.(editor,monaco)},[onMount,inlineErrorHoverMessage,inlineErrorRange,inlineErrorIsWholeLine]);return React3.createElement(import_box3.Box,{element,borderRadius:"borderRadius10",overflow:"hidden"},React3.createElement(import_styling_library2.StylingGlobals,{styles:globalStyles}),React3.createElement(import_code_editor_library.CodeEditor,{...props,loading:React3.createElement(EditableCodeblockLoadingMessage,{i18nLoadingLabel}),options:controlledOptions,onMount:handleEditorDidMount}))};EditableCodeBlock.displayName="EditableCodeBlock";
