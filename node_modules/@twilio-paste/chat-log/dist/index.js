"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var src_exports={};__export(src_exports,{ChatAttachment:()=>ChatAttachment,ChatAttachmentDescription:()=>ChatAttachmentDescription,ChatAttachmentLink:()=>ChatAttachmentLink,ChatBookend:()=>ChatBookend,ChatBookendItem:()=>ChatBookendItem,ChatBubble:()=>ChatBubble,ChatEvent:()=>ChatEvent,ChatLog:()=>ChatLog,ChatLogger:()=>ChatLogger,ChatMessage:()=>ChatMessage,ChatMessageMeta:()=>ChatMessageMeta,ChatMessageMetaItem:()=>ChatMessageMetaItem,ComposerAttachmentCard:()=>ComposerAttachmentCard,useChatLogger:()=>useChatLogger});module.exports=__toCommonJS(src_exports);var import_box=require("@twilio-paste/box"),React2=__toESM(require("react"));var React=__toESM(require("react")),MessageVariantContext=React.createContext("inbound");var bubbleVariantStyles={inbound:{backgroundColor:"colorBackground",alignSelf:"flex-start"},outbound:{backgroundColor:"colorBackgroundInverseStronger",alignSelf:"flex-end",color:"colorTextInverse"}},ChatBubble=React2.forwardRef(({children,element="CHAT_BUBBLE",...props},ref)=>{let variant=React2.useContext(MessageVariantContext);return React2.createElement(import_box.Box,{display:"inline-block",fontSize:"fontSize30",lineHeight:"lineHeight20",borderRadius:"borderRadius20",paddingY:"space30",paddingX:"space40",marginBottom:"space30",wordWrap:"break-word",maxWidth:"100%",minWidth:0,element,ref,variant,whiteSpace:"pre-wrap",...bubbleVariantStyles[variant],...(0,import_box.safelySpreadBoxProps)(props)},children)});ChatBubble.displayName="ChatBubble";var import_box2=require("@twilio-paste/box"),React3=__toESM(require("react"));var messageVariantStyles={inbound:{marginRight:"space70"},outbound:{marginLeft:"space70"}},ChatMessage=React3.forwardRef(({children,variant,element="CHAT_MESSAGE",...props},ref)=>React3.createElement(MessageVariantContext.Provider,{value:variant},React3.createElement(import_box2.Box,{role:"listitem",display:"flex",flexDirection:"column",ref,element,variant,...messageVariantStyles[variant],...(0,import_box2.safelySpreadBoxProps)(props)},children)));ChatMessage.displayName="ChatMessage";var import_box3=require("@twilio-paste/box"),React4=__toESM(require("react"));var ChatMessageMeta=React4.forwardRef(({children,element="CHAT_MESSAGE_META",...props},ref)=>{let variant=React4.useContext(MessageVariantContext);return React4.createElement(import_box3.Box,{...(0,import_box3.safelySpreadBoxProps)(props),ref,element,display:"flex",justifyContent:variant==="inbound"?"flex-start":"flex-end",textAlign:variant==="outbound"?"right":"left",alignItems:"center",variant,columnGap:"space30",fontWeight:"fontWeightMedium"},children)});ChatMessageMeta.displayName="ChatMessageMeta";var import_box4=require("@twilio-paste/box"),React5=__toESM(require("react")),ChatMessageMetaItem=React5.forwardRef(({children,element="CHAT_MESSAGE_META_ITEM",...props},ref)=>React5.createElement(import_box4.Box,{ref,element,display:"flex",alignItems:"flex-start",columnGap:"space30",color:"colorTextWeak",lineHeight:"lineHeight20",fontSize:"fontSize20",...(0,import_box4.safelySpreadBoxProps)(props)},children));ChatMessageMetaItem.displayName="ChatMessageMetaItem";var import_box5=require("@twilio-paste/box"),React6=__toESM(require("react")),ChatLog=React6.forwardRef(({children,element="CHAT_LOG",...props},ref)=>React6.createElement(import_box5.Box,{role:"log",padding:"space70",element,ref,...(0,import_box5.safelySpreadBoxProps)(props)},React6.createElement(import_box5.Box,{as:"div",role:"list",margin:"space0",padding:"space0",display:"flex",flexDirection:"column",rowGap:"space80"},children)));ChatLog.displayName="ChatLog";var import_box6=require("@twilio-paste/box"),import_button=require("@twilio-paste/button"),import_ClearIcon=require("@twilio-paste/icons/cjs/ClearIcon"),import_screen_reader_only=require("@twilio-paste/screen-reader-only"),React7=__toESM(require("react")),closeButtonBackgroundStyles={backgroundColor:"colorBackgroundBody",borderRadius:"borderRadiusCircle",width:"12px",height:"12px",display:"flex",justifyContent:"center",alignItems:"center"},ComposerAttachmentCard=React7.forwardRef(({children,onDismiss,i18nDismissLabel="Remove attachment",element="COMPOSER_ATTACHMENT_CARD",...props},ref)=>React7.createElement(import_box6.Box,{...(0,import_box6.safelySpreadBoxProps)(props),ref,paddingY:"space30",paddingX:"space40",borderStyle:"solid",borderColor:"colorBorderWeaker",borderRadius:"borderRadius30",borderWidth:"borderWidth10",boxShadow:"shadowLow",position:"relative",display:"inline-block",width:"100%",element},children,onDismiss&&React7.createElement(import_box6.Box,{position:"absolute",top:"space0",right:"space0",transform:"translate(50%, -50%)",...closeButtonBackgroundStyles},React7.createElement(import_button.Button,{element:`${element}_REMOVE_BUTTON`,variant:"secondary_icon",size:"icon",onClick:onDismiss},React7.createElement(import_ClearIcon.ClearIcon,{decorative:!0}),React7.createElement(import_screen_reader_only.ScreenReaderOnly,null,i18nDismissLabel)))));ComposerAttachmentCard.displayName="ComposerAttachmentCard";var import_box7=require("@twilio-paste/box"),import_media_object=require("@twilio-paste/media-object"),import_stack=require("@twilio-paste/stack"),React8=__toESM(require("react"));var ChatAttachment=React8.forwardRef(({children,element="CHAT_ATTACHMENT",attachmentIcon,...props},ref)=>{let variant=React8.useContext(MessageVariantContext);return React8.createElement(import_media_object.MediaObject,{...props,as:"div",ref,verticalAlign:"center",element},React8.createElement(import_media_object.MediaFigure,{as:"div",spacing:"space30"},React8.createElement(import_box7.Box,{color:variant==="inbound"?"colorTextIcon":"colorTextInverse",element:`${element}_ICON`},attachmentIcon)),React8.createElement(import_media_object.MediaBody,{as:"div",element:`${element}_BODY`},React8.createElement(import_stack.Stack,{orientation:"vertical",spacing:"space10"},children)))});ChatAttachment.displayName="ChatAttachment";var import_anchor=require("@twilio-paste/anchor"),import_truncate=require("@twilio-paste/truncate"),React9=__toESM(require("react"));var ChatAttachmentLink=React9.forwardRef(({children,href,element="CHAT_ATTACHMENT_LINK",...props},ref)=>{let variant=React9.useContext(MessageVariantContext);return React9.createElement(import_anchor.Anchor,{href,ref,element,variant:variant==="inbound"?"default":"inverse",...props},React9.createElement(import_truncate.Truncate,{title:children},children))});ChatAttachmentLink.displayName="ChatAttachmentLink";var import_text=require("@twilio-paste/text"),React10=__toESM(require("react"));var ChatAttachmentDescription=React10.forwardRef(({children,element="CHAT_ATTACHMENT_DESCRIPTION",...props},ref)=>{let variant=React10.useContext(MessageVariantContext);return React10.createElement(import_text.Text,{...(0,import_text.safelySpreadTextProps)(props),element,ref,as:"div",fontSize:"fontSize20",color:variant==="inbound"?"colorTextWeak":"colorTextInverse",lineHeight:"lineHeight20"},children)});ChatAttachmentDescription.displayName="ChatAttachmentDescription";var import_box8=require("@twilio-paste/box"),React11=__toESM(require("react")),ChatBookend=React11.forwardRef(({children,element="CHAT_BOOKEND",...props},ref)=>React11.createElement(import_box8.Box,{...(0,import_box8.safelySpreadBoxProps)(props),as:"div",role:"listitem",color:"colorTextWeak",element,textAlign:"center",marginBottom:"space20",lineHeight:"lineHeight20",fontSize:"fontSize20",fontWeight:"fontWeightMedium",ref},children));ChatBookend.displayName="ChatBookend";var import_box9=require("@twilio-paste/box"),React12=__toESM(require("react")),ChatBookendItem=React12.forwardRef(({children,element="CHAT_BOOKEND_ITEM",...props},ref)=>React12.createElement(import_box9.Box,{...(0,import_box9.safelySpreadBoxProps)(props),as:"div",element,ref},children));ChatBookendItem.displayName="ChatBookendItem";var import_box10=require("@twilio-paste/box"),React13=__toESM(require("react")),ChatEvent=React13.forwardRef(({children,element="CHAT_EVENT",...props},ref)=>React13.createElement(import_box10.Box,{...(0,import_box10.safelySpreadBoxProps)(props),as:"div",role:"listitem",color:"colorTextWeak",element,textAlign:"center",lineHeight:"lineHeight20",fontSize:"fontSize20",fontWeight:"fontWeightMedium",ref},children));ChatEvent.displayName="ChatEvent";var import_animation_library=require("@twilio-paste/animation-library"),import_box11=require("@twilio-paste/box"),React14=__toESM(require("react"));var AnimatedChat=(0,import_animation_library.animated)(import_box11.Box),buildTransitionX=chat=>chat.variant==="inbound"?-100:chat.variant==="outbound"?100:0,ChatLogger=React14.forwardRef(({chats,...props},ref)=>{let transitions=(0,import_animation_library.useTransition)(chats,{keys:chat=>chat.id,from:chat=>({opacity:0,x:buildTransitionX(chat)}),enter:{opacity:1,x:0},leave:chat=>({opacity:0,x:buildTransitionX(chat)}),config:{mass:.7,tension:190,friction:16}}),animatedChats=(0,import_animation_library.useReducedMotion)()?chats.map(chat=>React14.cloneElement(chat.content,{key:chat.id})):transitions((styles,chat,{key})=>React14.createElement(AnimatedChat,{as:"div",style:styles,key},chat.content));return React14.createElement(ChatLog,{...props,ref},animatedChats)});ChatLogger.displayName="ChatLogger";var import_uid_library=require("@twilio-paste/uid-library"),React15=__toESM(require("react")),chatWithId=chat=>({...chat,id:chat.id||(0,import_uid_library.uid)(chat.content)}),useChatLogger=(...initialChats)=>{let parsedInitialChats=React15.useMemo(()=>initialChats.map(chatWithId),[initialChats]),[chats,setChats]=React15.useState(parsedInitialChats),push=React15.useCallback(next=>{setChats(prev=>prev.concat(chatWithId(next)))},[]),pop=React15.useCallback(id=>{setChats(prev=>id?prev.filter(chat=>chat.id!==id):prev.slice(0,-1))},[]),clear=React15.useCallback(()=>setChats([]),[]);return{push,pop,chats,clear}};
